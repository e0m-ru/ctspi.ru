<script type="text/javascript" src="/static/js/clappr8.min.js"></script>
<script type="text/javascript" src="//playercdn.cdnvideo.ru/aloha/clappr/level-selector.min.js"></script>
<script type="text/javascript" src="//playercdn.cdnvideo.ru/aloha/clappr/clappr-poster.min.js"></script>
<script type="text/javascript" src="//playercdn.cdnvideo.ru/aloha/clappr/audio-track-selector.min.js"></script>
<div id="player-wrapper">
</div>
<script>
    var poster;
    var player = new Clappr.Player({
        poster,
        language: 'ru-RU',
        parentId: "#player-wrapper",
        width: '720px',
        height: '405px',
        source: '//live-mid.cdnvideo.ru/mid_new1/mid2_multilang.smil/playlist.m3u8?DVR&separate_audio=true',
        plugins: [
            LevelSelector,
            AudioTrackSelector,
            ClapprPoster,
        ],
        poster: {
            url: '//playercdn.cdnvideo.ru/aloha/players/images/mid_poster.jpg',
            scale: 'full',
        },
        mediacontrol: {
            enableSeekButtons: !Clappr.Browser.isMobile,
            size: Clappr.Browser.isMobile && 'big',
            background: "linear-gradient(90deg,rgb(50,58,68) 0%,rgb(50,58,68) 20%,rgb(70,80,90) 100%)",
            seekbarColor: "white",
        },

        AudioTrackSelectorConfig: {
            labels: {
                4: 'Español',
                3: 'Français',
                2: 'English',
                1: 'Русский',
                0: 'Оригинал',
            },
            labelCallback: function (trackInfo, label) {
                return label;
            }
        },
        playback: {
            playInline: true,
        },

    });
    if (Clappr.Browser.isMobile) {
        $('head').append(`
            <style>
                [data-player] .media-control[data-media-control].big .ui-plugin {
                    position: static;
                }
                .stream-selector[data-stream-selector] li {
                     white-space: normal;
                     max-width: 100vw;
                 }
            </style>`
        )
    }
</script>